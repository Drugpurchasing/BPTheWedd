<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Invitation</title>
    <style>
        /* --- CSS ไม่มีการเปลี่ยนแปลง --- */
        html { box-sizing: border-box; }
        *, *::before, *::after { box-sizing: inherit; }
        body, html { margin: 0; width: 100%; height: 100%; font-family: 'Tahoma', sans-serif; overflow: hidden; }
        body { background-color: #f5f0e9; padding: 24px; display: flex; justify-content: center; align-items: center; }
        .page-content { display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 400px; }
        .invitation-container { width: 100%; perspective: 1500px; }
        .card-flipper { position: relative; width: 100%; aspect-ratio: 5 / 7; transform-style: preserve-3d; transition: transform 0.9s cubic-bezier(0.6, -0.01, 0.2, 1); cursor: pointer; }
        .card-face { position: absolute; top: 0; left: 0; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 15px; box-shadow: 0 10px 35px rgba(0, 0, 0, 0.2); overflow: hidden; background-color: #FFFFFF; }
        .card-face img { width: 100%; height: 100%; object-fit: contain; }
        .card-back { transform: rotateY(180deg); }
        .card-flipper.is-flipped { transform: rotateY(180deg); }
        .flip-instruction { margin-top: 15px; font-size: 14px; color: #a88e79; text-align: center; }
    </style>
</head>
<body>

    <div class="page-content">
        <div class="invitation-container">
            <div class="card-flipper" id="cardFlipper">
                <div class="card-face card-front">
                    <img src="https://github.com/Drugpurchasing/BPTheWedd/blob/main/1.png?raw=true" alt="Wedding Card Front">
                </div>
                <div class="card-face card-back">
                    <img src="https://github.com/Drugpurchasing/BPTheWedd/blob/main/2.png?raw=true" alt="Wedding Card Back">
                </div>
            </div>
        </div>
        <p class="flip-instruction">แตะที่การ์ดเพื่อพลิก</p>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const cardFlipper = document.getElementById('cardFlipper');
            
            const toggleFlip = () => {
                cardFlipper.classList.toggle('is-flipped');
            };

            // --- สำหรับการคลิกบน Desktop ---
            cardFlipper.addEventListener('click', toggleFlip);

            // --- สำหรับการแตะและปัดบน Mobile ---
            let touchStartX = 0;
            let touchEndX = 0;
            const swipeThreshold = 30; // ลดระยะปัดลงเล็กน้อยเพื่อให้ตอบสนองไวขึ้น

            cardFlipper.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            }, { passive: true });

            cardFlipper.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                const swipeDistance = touchEndX - touchStartX;

                // ตรวจสอบว่าเป็นการปัด (Swipe) หรือไม่
                if (Math.abs(swipeDistance) > swipeThreshold) {
                    const isFlipped = cardFlipper.classList.contains('is-flipped');
                    // ปัดซ้ายเพื่อเปิด
                    if (swipeDistance < -swipeThreshold && !isFlipped) {
                        toggleFlip();
                    }
                    // ปัดขวาเพื่อกลับ
                    if (swipeDistance > swipeThreshold && isFlipped) {
                        toggleFlip();
                    }
                }
                // ถ้าไม่ใช่การปัด จะถูกจัดการโดย Event 'click' ที่เราตั้งไว้ด้านบน
                // ซึ่งจะทำงานกับการแตะ (Tap) บนมือถือโดยอัตโนมัติ
            });
        });
    </script>
</body>
</html>